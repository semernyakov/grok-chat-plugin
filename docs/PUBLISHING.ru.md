# Публикация плагина Groq Chat

Это руководство описывает процесс публикации плагина Groq Chat для Obsidian.

## Подготовка к публикации

### 1. Проверка функциональности

Перед публикацией убедитесь, что все основные функции работают корректно:

#### Поддерживаемые модели

- **Production Models**:

  - Llama 3 70B Versatile (128K токенов контекста)
  - Llama 3 8B Instant (128K токенов контекста)
  - Mixtral 8x7B (32K токенов контекста)
  - Gemma 2 9B (8K токенов контекста)
  - Llama Guard 3 8B (для проверки безопасности)
  - Whisper Large V3 (для обработки аудио)

- **Preview Models**:
  - Llama 3 90B Vision (поддержка изображений)
  - Qwen 2.5 Coder 32B (для работы с кодом)
  - Mistral Saba 24B
  - DeepSeek модели

#### Основной функционал

- [ ] Авторизация через Google OAuth
- [ ] Создание и управление чатами
- [ ] Работа со всеми поддерживаемыми моделями
- [ ] Обработка аудио через Whisper
- [ ] Работа с изображениями через Vision модели
- [ ] Анализ кода через Coder модели
- [ ] Сохранение истории чатов
- [ ] Настройки интерфейса
- [ ] Горячие клавиши

### 2. Проверка структуры проекта

Убедитесь, что в корне проекта присутствуют все необходимые файлы:

```
groq-chat-plugin/
├── manifest.json         # Метаданные плагина
├── package.json         # Конфигурация npm
├── versions.json        # История версий
├── main.js             # Скомпилированный плагин
├── styles.css          # Стили плагина
├── README.md           # Документация
└── LICENSE             # Лицензия MIT
```

### 3. Проверка manifest.json

Убедитесь, что файл `manifest.json` содержит корректные данные:

```json
{
  "id": "groq-chat",
  "name": "Groq Chat",
  "author": "Ivan Semernyakov",
  "authorUrl": "https://github.com/semernyakov",
  "description": "Плагин Groq Chat для Obsidian с поддержкой новейших моделей",
  "repo": "semernyakov/groq-chat-plugin",
  "branch": "master"
}
```

### 4. Проверка package.json

Проверьте настройку скриптов в `package.json`:

```json
{
    "scripts": {
        "dev": "rollup -c -w",           # Разработка с автоперезагрузкой
        "build": "rollup -c",            # Сборка проекта
        "test": "jest",                  # Запуск тестов
        "lint": "eslint . --ext .ts,.tsx", # Проверка кода
        "version": "node version-bump.mjs && git add manifest.json versions.json",
        "publish": "npm run build && npm run test && npm run release"
    }
}
```

## Процесс публикации

### 1. Подготовка релиза

1. Проверьте статус репозитория:

   ```bash
   git status
   ```

   Убедитесь, что все изменения закоммичены.

2. Запустите тесты:

   ```bash
   npm run test
   ```

   Все тесты должны проходить успешно.

3. Соберите проект:

   ```bash
   npm run build
   ```

   Проверьте, что сборка прошла без ошибок.

4. Проверьте код линтером:
   ```bash
   npm run lint
   ```
   Исправьте все найденные проблемы.

### 2. Создание релиза

1. Обновите версию плагина одной из команд:

   ```bash
   npm version patch   # Для исправлений (1.0.0 -> 1.0.1)
   npm version minor   # Для новых функций (1.0.0 -> 1.1.0)
   npm version major   # Для крупных изменений (1.0.0 -> 2.0.0)
   ```

2. Создайте релиз:

   ```bash
   npm run release
   ```

   Это автоматически обновит `manifest.json` и `versions.json`.

3. Отправьте изменения в репозиторий:
   ```bash
   git push --follow-tags origin master
   ```

### 3. Публикация в Community Plugins

1. Создайте форк репозитория [obsidian-releases](https://github.com/obsidianmd/obsidian-releases)

2. Добавьте информацию о плагине в `community-plugins.json`:

   ```json
   {
     "id": "groq-chat",
     "name": "Groq Chat",
     "author": "Ivan Semernyakov",
     "description": "Плагин Groq Chat для Obsidian с поддержкой новейших моделей",
     "repo": "semernyakov/groq-chat-plugin",
     "branch": "master"
   }
   ```

3. Создайте Pull Request в репозиторий obsidian-releases

### 4. Финальная проверка

1. Тестирование в Obsidian:

   - Установите плагин локально через режим разработчика
   - Проверьте все основные функции
   - Протестируйте на мобильном устройстве
   - Убедитесь, что нет ошибок в консоли

2. Проверка документации:

   - README.md актуален и содержит:
     - Описание всех функций
     - Инструкции по установке
     - Примеры использования
     - Раздел с частыми вопросами
   - Документация переведена на русский язык

3. Проверка файлов релиза:
   - В `manifest.json` указана правильная версия
   - `versions.json` содержит новую версию
   - `main.js` успешно собран и работает
   - `styles.css` содержит все необходимые стили

## После публикации

### 1. Мониторинг и поддержка

1. Отслеживайте issues:

   - Регулярно проверяйте новые обращения
   - Быстро реагируйте на критические баги
   - Помечайте issues соответствующими тегами

2. Работа с сообществом:

   - Отвечайте на вопросы пользователей
   - Принимайте и рассматривайте предложения
   - Ведите changelog изменений

3. Обновления:
   - Регулярно проверяйте зависимости
   - Следите за обновлениями Obsidian API
   - Поддерживайте совместимость с новыми версиями

### 2. Выпуск обновлений

1. Процесс обновления:

   - Следуйте процедуре релиза
   - Обновляйте `versions.json`
   - Создавайте релизы на GitHub

2. Документирование изменений:
   - Ведите подробный changelog
   - Обновляйте документацию
   - Сообщайте о важных изменениях

### 3. Техническая поддержка

1. Обслуживание кода:

   - Регулярно обновляйте зависимости
   - Проводите рефакторинг при необходимости
   - Поддерживайте качество кода

2. Безопасность:
   - Следите за уязвимостями в зависимостях
   - Быстро исправляйте проблемы безопасности
   - Регулярно обновляйте библиотеки

## Полезные ссылки

- [Руководство по плагинам Obsidian](https://docs.obsidian.md/Plugins/Getting+started/Plugin+guidelines)
- [Репозиторий релизов Obsidian](https://github.com/obsidianmd/obsidian-releases)
- [Пример плагина](https://github.com/obsidianmd/obsidian-sample-plugin)

## Контрольный список

- [ ] Проверена структура проекта
- [ ] Обновлен manifest.json
- [ ] Обновлен versions.json
- [ ] Пройдены все тесты
- [ ] Успешная сборка проекта
- [ ] Актуальная документация
- [ ] Работа на мобильных устройствах
- [ ] Создан релиз на GitHub
- [ ] Отправлен PR в obsidian-releases
- [ ] Проверена работа в последней версии Obsidian
